{% extends '::base.html.twig' %}

{% block title %}{{ 'stas.calendar.index.title'|trans }}{% endblock %}

{% block stylesheets %}
    {% stylesheets '@StasCalendarBundle/Resources/css/style.css' %}
        <link rel="stylesheet" href="{{ asset_url }}">
    {% endstylesheets %}
{% endblock %}

{% block body %}
    <h1>{{ 'stas.calendar.index.header'|trans({'%name' : app.user.username}) }}</h1>
    <h2>{{ 'stas.calendar.index.intro'|trans }}</h2>
    <table class="results-table">
        <tr>
            <th>{{ 'stas.calendar.index.twoWeekAgo'|trans }} ({{ "2 week ago"|date("m/d/Y") }})</th>
            <th>{{ 'stas.calendar.index.oneWeekAgo'|trans }} ({{ "1 week ago"|date("m/d/Y") }})</th>
            <th>{{ 'stas.calendar.index.today'|trans }} ({{ "now"|date("m/d/Y") }})</th>
        </tr>
        <tr>
        {% for key in ['two-week-ago', 'one-week-ago', 'today'] %}
            <td>
                <table>
                {% for result in results[key] %}
                    <tr>
                        <td>{{ result.shortDescription }}</td>
                        <td class="right">
                            {{ result.weight }}{{ 'stas.calendar.index.kg'|trans }} X {{ result.amount }}
                        </td>
                    </tr>
                {% endfor %}
                 </table>
            </td>
        {% endfor %}
        </tr>
    </table>

    <p><a href="{{ path('logout') }}">{{ 'stas.calendar.index.logout'|trans }}</a></p>
{% endblock %}
